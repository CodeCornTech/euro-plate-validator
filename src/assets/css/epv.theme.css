/* === TOKENS (LIGHT di default) ===================== */
:root{
  /* superfici & testo */
  --epv-bg: #ffffff;
  --epv-surface: #f8fafc;           /* slate-50 */
  --epv-text: #0f172a;              /* slate-900 */
  --epv-muted: #64748b;             /* slate-500 */
  --epv-border: #cbd5e1;            /* slate-300 */
  --epv-border-focus: #60a5fa;      /* blue-400 */
  --epv-ring: rgba(59,130,246,.35); /* blue-500/35% */

  /* input */
  --epv-input-bg: #ffffff;
  --epv-input-fg: #0f172a;
  --epv-input-placeholder: #94a3b8; /* slate-400 */

  /* stato */
  --epv-ok: #16a34a;   /* green-600 */
  --epv-err: #dc2626;  /* red-600 */
  --epv-info: #3b82f6; /* blue-500 */

  /* dropdown */
  --epv-dd-bg: #ffffff;
  --epv-dd-item: #0f172a;
  --epv-dd-hover: #eef2ff;     /* indigo-50 */
  --epv-dd-border: #cbd5e1;

  /* pulsante bandiera */
  --epv-flagbtn-bg: #ffffff;
  --epv-flagbtn-fg: #0f172a;
  --epv-flagbtn-border: #cbd5e1;
}

/* === HOOK ai selettori esistenti (senza stravolgere) === */
/* status inline: usa i token invece degli hex fissi */
.status-inline-host{
  color: var(--epv-muted);
}
.status-inline-host[data-state="ok"]{ color: var(--epv-ok); }
.status-inline-host[data-state="err"]{ color: var(--epv-err); }

/* block status */
.status.ok{ color: var(--epv-ok); }
.status.err{ color: var(--epv-err); }

/* input & wrapper suggeriti (se già li hai, questi sono solo override safe) */
.plate-epv .plate-input{
  background: var(--epv-input-bg);
  color: var(--epv-input-fg);
  border: 1px solid var(--epv-border);
}
.plate-epv .plate-input::placeholder{ color: var(--epv-input-placeholder); }
.plate-epv .plate-input:focus{
  outline: none;
  border-color: var(--epv-border-focus);
  box-shadow: 0 0 0 3px var(--epv-ring);
}

/* dropdown */
.plate-epv .dropdown{
  background: var(--epv-dd-bg);
  border: 1px solid var(--epv-dd-border);
}
.plate-epv .dropdown .country-item{
  color: var(--epv-dd-item);
}
.plate-epv .dropdown .country-item:hover{
  background: var(--epv-dd-hover);
}

/* flag button */
.plate-epv .flag-btn{
  background: var(--epv-flagbtn-bg);
  color: var(--epv-flagbtn-fg);
  border: 1px solid var(--epv-flagbtn-border);
}

/* PANNOKKIANERA — media query */
@media (prefers-color-scheme: dark){
  :root{
    --epv-bg: #0b0f19;              /* quasi-black */
    --epv-surface: #111827;         /* gray-900 */
    --epv-text: #e5e7eb;            /* gray-200 */
    --epv-muted: #94a3b8;           /* slate-400 */
    --epv-border: #334155;          /* slate-700 */
    --epv-border-focus: #93c5fd;    /* blue-300 */
    --epv-ring: rgba(96,165,250,.35);

    --epv-input-bg: #0f172a;        /* slate-900 */
    --epv-input-fg: #e5e7eb;
    --epv-input-placeholder: #64748b;

    /* stati un filo più accesi in dark */
    --epv-ok: #22c55e;              /* green-500 */
    --epv-err: #f87171;             /* red-400 */
    --epv-info: #60a5fa;

    --epv-dd-bg: #0f172a;
    --epv-dd-item: #e5e7eb;
    --epv-dd-hover: #1f2937;        /* gray-800 */
    --epv-dd-border: #334155;

    --epv-flagbtn-bg: #0f172a;
    --epv-flagbtn-fg: #e5e7eb;
    --epv-flagbtn-border: #334155;
  }

  /* superfici globali (se vuoi) */
  body.test_mode{ background: var(--epv-bg); color: var(--epv-text); }
}

/* PANNOKKIANERA — class based */
.scheme_dark,
html.scheme_dark,
body.scheme_dark,
:root[class*="scheme_dark"]{
  --epv-bg: #0b0f19;
  --epv-surface: #111827;
  --epv-text: #e5e7eb;
  --epv-muted: #94a3b8;
  --epv-border: #334155;
  --epv-border-focus: #93c5fd;
  --epv-ring: rgba(96,165,250,.35);

  --epv-input-bg: #0f172a;
  --epv-input-fg: #e5e7eb;
  --epv-input-placeholder: #64748b;

  --epv-ok: #22c55e;
  --epv-err: #f87171;
  --epv-info: #60a5fa;

  --epv-dd-bg: #0f172a;
  --epv-dd-item: #e5e7eb;
  --epv-dd-hover: #1f2937;
  --epv-dd-border: #334155;

  --epv-flagbtn-bg: #0f172a;
  --epv-flagbtn-fg: #e5e7eb;
  --epv-flagbtn-border: #334155;
}


/*
* ## Note veloci
* Gli **SVG in `mode-icon`/`mode-pill`** usano `currentColor`: con i token sopra cambiano automaticamente tra light/dark (non serve altro).
* Se hai **background chiari** in card/container (`.plate-epv-wrapper`, `.plate-epv`) puoi fare: 
* 
* .plate-epv-wrapper{ background: var(--epv-surface); }
* 
*/